<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="/static/Laboratório/Labratorio.css" />
  <title>Identificação e Avaliação Citopatológica</title>
</head>
<body>
  <form action="/exames/laboratorio" method="POST">
    <input type="hidden" name="paciente_id" value="">
    <input type="hidden" name="cpf" value="<%= cpf %>">
    
    <h1>Identificação do Laboratório</h1>

    <section>
      <label for="cnesLab">CNES do laboratório:
        <input type="text" name="cnes_lab" id="cnesLab" required />
      </label>

      <label for="nomeLab">Nome do Laboratório:
        <input type="text" name="nome_lab" id="nomeLab" required />
      </label>

      <label for="numExame">Número do Exame:
        <input type="text" name="numero_exame" id="numExame" required />
      </label>

      <label for="recebido">Recebido em:
        <input type="date" name="recebido_em" id="recebido" required />
      </label>
    </section>

    <h1>Resultado do Exame Citopatológico - Colo do Útero</h1>

    <section>
      <h5>Amostra Rejeitada Por:</h5>
      <label>
        <input type="radio" name="amostra_rejeitada" value="Ausência ou erro na identificação">
        Ausência ou erro na identificação da lâmina, frasco ou formulário
      </label>
      <label>
        <input type="radio" name="amostra_rejeitada" value="Lâmina danificada ou ausente">
        Lâmina danificada ou ausente
      </label>
      <label>
        <input type="radio" name="amostra_rejeitada" value="Outras causas">
        Outras causas; especificar:
        <input type="text" name="causa_rejeicao" class="especificar" />
      </label>
    </section>

    <section>
      <h5>Epitélios representados na amostra:</h5>
        <label><input type="checkbox" name="epitelio" value="Escamoso"> Escamoso</label>
        <label><input type="checkbox" name="epitelio" value="Glandular"> Glandular</label>
        <label><input type="checkbox" name="epitelio" value="Metaplásico"> Metaplásico</label>
    </section>

    <section>
      <h5>Adequabilidade do Material</h5>
      <label><input type="radio" name="adequabilidade_material" value="Satisfatória"> Satisfatória</label>
      <label><input type="radio" name="adequabilidade_material" value="Insatisfatória"> Insatisfatória</label>

      <h5>Motivo (se insatisfatória):</h5>
      <label><input type="checkbox" name="motivo_insatisfatorio" value="Material acelular"> Material acelular ou hipocelular em menos de 10% do esfregaço</label>
      <label><input type="checkbox" name="motivo_insatisfatorio" value="Sangue"> Sangue em mais de 75% do esfregaço</label>
      <label><input type="checkbox" name="motivo_insatisfatorio" value="Piócitos"> Piócitos em mais de 75% do esfregaço</label>
      <label><input type="checkbox" name="motivo_insatisfatorio" value="Dessecamento"> Artefatos de dessecamento em mais de 75% do esfregaço</label>
      <label><input type="checkbox" name="motivo_insatisfatorio" value="Contaminantes"> Contaminantes externos em mais de 75% do esfregaço</label>
      <label><input type="checkbox" name="motivo_insatisfatorio" value="Superposição"> Intensa superposição celular em mais de 75% do esfregaço</label>
      <label>
        <input type="checkbox" name="motivo_insatisfatorio" value="Outros">
        Outros, especificar:
        <input type="text" name="outros_motivos" class="especificar" />
      </label>
    </section>

    <div class="salvar-area">
      <button type="submit" class="Sair" href="/static/Cadastrar exames/cadastroExame.html">Salvar</button>
    </div>
  </form>

  <script>
    
document.addEventListener('DOMContentLoaded', function() {
    const pacienteId = localStorage.getItem('paciente_id');
    if (pacienteId) {
        const inputPacienteId = document.querySelector('input[name="paciente_id"]');
        if (inputPacienteId) {
            inputPacienteId.value = pacienteId;
        }
    }
});
</script>
</body>
</html>
